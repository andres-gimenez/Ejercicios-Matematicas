%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\documentName} { Examen 1ª evaluación }
\newcommand{\documentContent} { Examen conocimiento } 
\newcommand{\waterMark} { Modelo B } 
%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Configuración del documento.
\input{./include/configurationCurso} 
\input{./include/configuration} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Exam configuration
%\pointsdroppedatright   %% No mostrar la puntuación
\pointsinrightmargin % Para poner las puntuaciones a la derecha. Se puede cambiar. Si se comenta, sale a la izquierda.
\extrawidth{-1.5cm} %Un poquito más de margen por si ponemos textos largos.
\marginpointname{ \emph{\points}}

%% Si se comenta no aparecerán los espacios de la solución.
%\nocancelspace

%% Esto es de la clase exam. Si dejamos sin comentar \printanswers, se mostraran las soluciones. 
%% Si la comentamos y dejamos sin comentar \noprintanswers, pues no se muestran las soluciones.
%\printanswers
%\noprintanswers

%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\StudentData
\GradeTableHeader

\justifying

\begin{questions}
\setcounter{question}{0}

\question[6]
Indica la respuesta más adecuada.
    \begin{center}
        \fbox{\fbox{\parbox{6.5in}{
                    La forma de valor el resultado las preguntas tipo test será:

                    \begin{equation*} \label{eqn}
                        Nota = \left( correctas - \frac{incorrecta}{2} \right) \cdot \left( \frac{nota\:máxima}{preguntas}  \right)
                    \end{equation*}

                    \vspace{0.2cm}
                    \par
                    Cuando contestes a cada pregunta del cuestionario ten presente:
                    \begin{itemize}
                        \item Lee atentamente las preguntas y las contestaciones, tienes tiempo de sobra para resolver el examen.
                        \item Los fallos restan puntos, si no estás seguro de la respuesta no la contestes.
                        \item Aunque en algunas preguntas pueda parecer que existe más de una respuesta correcta, tienes que dar una respuesta profesional que indique que dominas los conceptos teóricos.
                    \end{itemize}
                }}}
    \end{center}

    \begin{parts}
        \PartNoBreak{
            Al controlar las excepciones, el bloque de código marcado como finally \dots
            \newline
            \begin{oneparcheckboxes}
                \CorrectChoice
                \dots se ejecutará siempre.
                \newline
                \choice
                \dots se ejecutará solamente si no se ha producido ninguna excepción dentro del bloque try.
                \newline
                \choice
                \dots no es una opción válida.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            En programación, las excepciones \dots
            \newline
            \begin{oneparcheckboxes}
                \choice 
                \dots nos sirven para controlar el flujo de programación al igual que otras sentencias como if o while.
                \newline
                \CorrectChoice
                \dots ayudan a afrontar una situación inesperada o excepcional que se produce cuando se ejecuta un programa.
                \newline
                \choice
                \dots nos sirve para ocultar los errores que se producen en nuestros programas.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            En una excepción tenemos tres secciones try, catch y finally.
            \newline
            \begin{oneparcheckboxes}
                \choice
                try y catch son obligatorias y finally es opcional.
                \newline
                \choice
                finally no es una sección válida dentro de un control de excepciones.
                \newline
                \CorrectChoice
                try es obligatoria y debe existir al menos una de las otras dos catch y finally.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{ 
            La principal funcionalidad de un sistema operativo es \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                    \dots el facilitar la comunicación entre el usuario y el hardware.
                \newline
                \choice
                    \dots el ejecutar los programas de una forma amigable a petición del usuario.
                \newline
                \CorrectChoice
                    \dots la gestión de memoria y de los procesos.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            Un demonio o servicio es \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots un proceso que se interacciona mal con el resto de procesos que se ejecutan dentro de un sistema operativo.
                \newline
                \CorrectChoice
                \dots un proceso que no interacciona directamente con el usuario, ejecutándose en segundo plano.
                \newline
                \choice
                \dots un proceso que da servicio a posibles intrusos a través de la red.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            La caché \dots
            \newline
            \begin{oneparcheckboxes}
                \CorrectChoice
                \dots se refiere a una memoria que guarda los datos más utilizados para mejorar el acceso a estos.
                \newline
                \choice
                \dots una porción de memoria que se mantiene en secreto para que no sea fácil acceder a ella.
                \newline
                \choice
                \dots una porción de memoria residual que en ocasiones se queda obsoleta y debemos preocuparnos de borrarla de forma periódica.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            En un sistema operativo moderno \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots los procesos tienen acceso a la memoria física de forma directa.
                \newline
                \CorrectChoice
                \dots cada proceso tiene acceso a su memoria virtual que no comparte con otros procesos.
                Esta memoria virtual se puede guardar en memoria física o en disco.
                \newline
                \choice
                \dots los procesos tienen acceso a la memoria virtual a través de la memoria física.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            Dos procesos ejecutándose en un sistema operativo \dots
            \newline
            \begin{oneparcheckboxes}
                \CorrectChoice
                \dots se pueden comunicar a través de diversos mecanismos, 
                por ejemplo, a través de sockets permite comunicar dos procesos a través de una red de comunicaciones.
                \newline
                \choice
                \dots no se pueden comunicar de ninguna manera, ya que corren en entornos virtuales distintos.
                \newline
                \choice
                \dots los únicos mecanismos de comunicación son el argumento y el valor de retorno.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            La principal motivación para migrar de un sistema de 32 bits a uno de 64 bits es \dots
            \newline
            \begin{oneparcheckboxes}
                \CorrectChoice
                \dots el direccionamiento de memoria, en los sistemas de 32 bits está limitado a 4 GB de memoria RAM.
                \newline
                \choice
                \dots que nos funcionen los programas más modernos.
                \newline
                \choice
                \dots el sistema de caracteres alfanuméricos, en los sistemas de 32 bits están limitados y pueden salir caracteres extraños.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            En un programa basado en múltiples procesos \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots cada proceso puede ser desarrollado con distintos lenguajes de programación, pero han de desarrollarse por un mismo equipo de trabajo.
                \newline
                \CorrectChoice
                \dots cada proceso puede ser desarrollado con distintos lenguajes de programación y por equipos de trabajo distintos.
                \newline
                \choice
                \dots todos los procesos han de desarrollarse con el mismo lenguaje de programación.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            Dos hilos o subprocesos \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots funcionan en espacios de memoria aislados.
                \newline
                \CorrectChoice
                \dots comparten el mismo espacio de memoria.
                \newline
                \choice
                \dots se han de comunicar a través de mecanismos especiales, como el argumento y el valor de retorno.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            En el ciclo de vida de un hilo o subproceso \dots
            \newline
            \begin{oneparcheckboxes}
                \CorrectChoice
                \dots puede tener los estados de nuevo, en ejecución, parado y muerto.
                \newline
                \choice
                \dots puede tener los estados inicializado y finalizado.
                \newline
                \choice
                \dots no podemos intervenir en su estado de ejecución, ya que lo controla el sistema operativo.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            El kernel de un sistema operativo es \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots los procesos principales que hacen funcionar al sistema.
                \newline
                \CorrectChoice
                \dots la parte central del sistema operativo, el cual tiene acceso a funciones críticas.
                \newline
                \choice
                \dots la parte que gestiona si un proceso ha finalizado correctamente.
                \newline
            \end{oneparcheckboxes}
        }

        \PartNoBreak{
            El Software Developer Kit (SDK)
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots son conjuntos de aplicaciones, optimizadas para programadores y destinados a controlar los procesos que se ejecutan en un sistema operativo.
                \newline
                \CorrectChoice
                \dots es una colección de herramientas de desarrollo de software en un paquete instalable.
                \newline
                \choice
                \dots son entornos de desarrollo como Visual Studio, Eclipse, Xcode, \dots
                \newline
            \end{oneparcheckboxes}
        }

        % \PartNoBreak{
        %     El comando lock \dots
        %     \newline
        %     \begin{oneparcheckboxes}
        %         \choice
        %         \dots bloquea una porción de código para que solo lo pueda ejecutar un proceso simultáneamente.
        %         \newline
        %         \CorrectChoice
        %         \dots bloquea una porción de código para que solo lo pueda ejecutar un hilo simultáneamente.
        %         \newline
        %         \choice
        %         \dots bloquea una porción de código en el caso de producirse fallos.
        %         \newline
        %     \end{oneparcheckboxes}
        % }

        \PartNoBreak{
            Una sección critica \dots
            \newline
            \begin{oneparcheckboxes}
                \choice
                \dots es aquella de vital importancia dentro de nuestro proceso y nos debemos asegurar que funciona correctamente.
                \newline
                \CorrectChoice
                \dots es aquella que no puede ser ejecutada por dos subprocesos a la vez. 
                Por lo generar, se utilizan mecanismos para que los subprocesos se 
                detengan si existe otro subproceso en ejecución dentro de ella 
                y se reinicia la ejecución cuando el subproceso que la está ejecutando sale de ella. 
                \newline
                \choice
                \dots es aquella que tiene fallos y debemos centrarnos en arreglarla.
                \newline
            \end{oneparcheckboxes}
        }
    \end{parts}

    \newpage
    \question[4]
    El siguiente código ejecuta un proceso hijo y
    mantiene una comunicación entre los dos procesos.
    Explica la funcionalidad de cada línea de código,
    de la forma más profesional posible.

    \lstset{style=sharpc}
    \begin{lstlisting}[language={[Sharp]C}]
    ProcessStartInfo startInfo = new ProcessStartInfo();
    startInfo.FileName = @".\application.exe",
    startInfo.Arguments = commandLine;
    startInfo.UseShellExecute = false;
    startInfo.RedirectStandardError = true;
    startInfo.RedirectStandardOutput = true;

    using(Process process = Process.Start(startInfo))
    {
        StreamReader errorReader = process.StandardError;
        StreamReader outputWriter = process.StandardOutput;

        process.WaitForExit();

        if (process.ExitCode == 0)
        {
            Console.WriteLine("El proceso finalizo con exito.");
            Console.WriteLine(outputWriter.ReadToEnd());
        }
        else
        {
            Console.WriteLine($"Error: {process.ExitCode}.");
            Console.WriteLine(errorReader.ReadToEnd());
        }
    }
        \end{lstlisting}
    \newpage
    \phantom{new page}

\end{questions}

\end{document}